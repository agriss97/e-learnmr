<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Python Intermediate - E-Learn</title>
<style>
body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f3f7f9; }
header { background:#28b485; color:white; padding:10px 20px; display:flex; justify-content:space-between; align-items:center; }
header h1 { margin:0; font-size:1.8rem; }
nav a { color:white; text-decoration:none; margin:0 10px; }
nav a:hover { text-decoration:underline; }
.auth-link { margin-left:10px; }

.course-header { text-align:center; padding:30px; background:linear-gradient(to right,#7ed56f,#28b485); color:white; }
.course-header h2 { font-size:2.2rem; margin-bottom:10px; }
.course-header p { font-size:1.1rem; }

.video-section { max-width:1000px; margin:30px auto; display:grid; grid-template-columns:repeat(auto-fit,minmax(300px,1fr)); gap:20px; }
.video-section iframe { width:100%; height:200px; border-radius:10px; }

.quiz-section { max-width:900px; margin:40px auto; background:white; padding:20px; border-radius:10px; box-shadow:0 2px 10px rgba(0,0,0,0.2); }
.quiz-section h3 { margin-bottom:15px; color:#1565c0; }
.quiz-section .question { margin-bottom:15px; }
.quiz-section .question p { margin-bottom:5px; }
.quiz-section button { padding:10px 15px; margin-top:10px; background:#28b485; color:white; border:none; border-radius:5px; cursor:pointer; }
.quiz-section button:hover { background:#239b76; }

.progress-bar-container { max-width:900px; margin:20px auto; background:#ddd; border-radius:10px; height:25px; }
.progress-bar { height:25px; background:#28b485; width:0%; text-align:center; color:white; border-radius:10px; line-height:25px; }

footer { text-align:center; padding:20px; background:#f0f0f0; margin-top:50px; }
</style>
</head>
<body>

<header>
  <h1>E-Learn</h1>
  <nav id="navbar">
    <a href="index.html">Home</a>
    <a href="login.html" class="auth-link">Login</a>
    <a href="signup.html" class="auth-link">Signup</a>
  </nav>
</header>

<section class="course-header">
  <h2>Python Programming - Intermediate</h2>
  <p>Deepen your Python knowledge with real-world examples and practical exercises.</p>
</section>

<section class="video-section">
  <iframe src="https://www.youtube.com/embed/HGOBQPFzWKo" allowfullscreen></iframe>
  <iframe src="https://www.youtube.com/embed/NIWwJbo-9_8" allowfullscreen></iframe>
  <iframe src="https://www.youtube.com/embed/OzbcFk5le0s" allowfullscreen></iframe>
  <iframe src="https://www.youtube.com/embed/0Lt9w-BxKFQ" allowfullscreen></iframe>
  <iframe src="https://www.youtube.com/embed/rfscVS0vtbw" allowfullscreen></iframe>
</section>

<section class="quiz-section">
  <h3>Intermediate Python Quiz (25 Questions)</h3>
  <div id="quiz"></div>
  <button onclick="checkQuiz()">Submit Quiz</button>
  <div class="progress-bar-container"><div class="progress-bar" id="progressBar">0%</div></div>
</section>

<footer>
  <p>&copy; 2025 E-Learn. Learn Better. Learn Smarter.</p>
</footer>

<script>
// Navbar login/logout
document.addEventListener("DOMContentLoaded", function() {
  const nav = document.getElementById("navbar");
  const user = localStorage.getItem("loggedInUser");
  if(user){
    document.querySelectorAll(".auth-link").forEach(el => el.remove());
    const welcomeSpan = document.createElement("span");
    welcomeSpan.innerHTML = `Welcome, <b>${user}</b>`;
    welcomeSpan.style.margin = "0 10px";
    const logoutLink = document.createElement("a");
    logoutLink.href = "#"; logoutLink.textContent = "Logout"; logoutLink.style.marginLeft="10px";
    logoutLink.onclick = function(){ localStorage.removeItem("loggedInUser"); window.location.href="index.html"; };
    nav.appendChild(welcomeSpan); nav.appendChild(logoutLink);
  }
});

// Intermediate Python Quiz Data
const quizData = [
  {q:"What is the output of list(range(2,10,2))?", options:["[2,4,6,8]","[2,3,4,5,6,7,8,9]","[2,4,6,8,10]","[2,6,10]"], answer:0},
  {q:"Which method is used to join list elements into a string?", options:["merge()","join()","concat()","combine()"], answer:1},
  {q:"How do you copy a list in Python?", options:["list.copy()","copy(list)","list()","list[:]"], answer:3},
  {q:"Which of these is a Python set method?", options:["add()","append()","insert()","extend()"], answer:0},
  {q:"How do you handle exceptions in Python?", options:["try-except","catch","error","finally"], answer:0},
  {q:"Which of these is a valid dictionary method?", options:["keys()","list()","add()","append()"], answer:0},
  {q:"What does 'enumerate()' do?", options:["Iterates with index","Counts items","Converts to list","Sorts list"], answer:0},
  {q:"Which module is used for regular expressions?", options:["regex","re","match","exp"], answer:1},
  {q:"What is a lambda function?", options:["Anonymous function","Named function","Class method","Module"], answer:0},
  {q:"How to open a file for reading?", options:["open('file.txt','r')","open('file.txt','w')","file('file.txt')","read('file.txt')"], answer:0},
  {q:"Which of these converts a string to list of characters?", options:["list()","split()","char()","str()"], answer:0},
  {q:"What is the output of bool([])?", options:["True","False","0","None"], answer:1},
  {q:"Which keyword is used to create class?", options:["class","def","object","module"], answer:0},
  {q:"Which method removes and returns last element of a list?", options:["pop()","remove()","del()","clear()"], answer:0},
  {q:"How do you import math module?", options:["import math","include math","use math","math()"], answer:0},
  {q:"Which of these iterates over dictionary keys and values?", options:["items()","values()","keys()","all()"], answer:0},
  {q:"What is the output of 'Hello'.center(11,'*')?", options:["***Hello***","*Hello*","Hello****","Error"], answer:0},
  {q:"Which of these converts string '123' to integer?", options:["int('123')","str('123')","float('123')","eval('123')"], answer:0},
  {q:"What is the difference between list and tuple?", options:["Tuple immutable, list mutable","List immutable, tuple mutable","Both mutable","Both immutable"], answer:0},
  {q:"Which of these reads entire file content?", options:["read()","readline()","readlines()","open()"], answer:0},
  {q:"Which of these checks object type?", options:["type()","isinstance()","check()","objtype()"], answer:0},
  {q:"What is generator in Python?", options:["Iterator that yields values","List","Dictionary","Tuple"], answer:0},
  {q:"Which method converts string to uppercase?", options:["upper()","lower()","capitalize()","title()"], answer:0},
  {q:"Which of these is used to raise exception?", options:["raise","throw","except","try"], answer:0},
  {q:"Which of these is NOT a Python keyword?", options:["switch","for","while","if"], answer:0}
];

// Render Quiz
const quizContainer = document.getElementById("quiz");
quizData.forEach((item,i)=>{
  const div = document.createElement("div");
  div.classList.add("question");
  let qHtml = `<p><b>Q${i+1}.</b> ${item.q}</p>`;
  item.options.forEach((opt,j)=>{
    qHtml += `<label><input type="radio" name="q${i}" value="${j}"> ${opt}</label><br>`;
  });
  div.innerHTML = qHtml;
  quizContainer.appendChild(div);
});

// Check Quiz & Progress
function checkQuiz(){
  let score=0;
  quizData.forEach((item,i)=>{
    const ans = document.querySelector(`input[name="q${i}"]:checked`);
    if(ans && parseInt(ans.value)===item.answer) score++;
  });
  alert(`You scored ${score} / ${quizData.length}`);
  const progress = Math.round((score/quizData.length)*100);
  document.getElementById("progressBar").style.width = progress+"%";
  document.getElementById("progressBar").textContent = progress+"%";

  const user = localStorage.getItem("loggedInUser");
  if(user){
    const key = `${user}-python-intermediate-progress`;
    localStorage.setItem(key, progress);
  }
}
</script>

</body>
</html>
